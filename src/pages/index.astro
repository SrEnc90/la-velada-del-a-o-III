---
import Layout from "../layouts/Layout.astro";
---

<!-- ! le he colocado relative a la etiqueta body dentro del Layout.astro -->
<Layout title="La velada del Año - un proyecto de Ibai Llanos">
	<header class="relative">
		<div class="md:absolute md:left-1/2 md:-translate-x-1/2 flex flex-col gap-1 justify-center items-center mt-4 md:mt-0 md:top-1 z-10">
			<img 
			class="w-28 lg:w-60 h-auto top-8"
			src="/images/logo.webp" 
			alt="Logo de la velada del año, tercera edición" />
			<h1 
			class="font-boxing-striped uppercase text-white text-center text-5xl">
				<span 
				class="bg-clip-text text-transparent bg-gradient-to-b from-white via-gray-600 to-white inline-block leading-relaxed">
					La velada del año
				</span>
				<span class="text-yellow-300">III</span>
			</h1>
		</div>
	</header>
	<main class="relative">
		<section
			id="boxers"
			class={`flex justify-between relative
			[&>div>img]:absolute [&>div>img]:bottom-0
			[&>div>img]:w-auto
			[&>div>img]:animate-once
			h-[40vh] md:h-[65vh] lg:h-screen pt-4 lg:pt-24 border-b border-white/10
			`}
		>
		<div
		class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-[#131313] via-zinc-800 to-zinc-950"
		>

		</div>


			<div class="absolute blur-sm inset-0 flex gap-x-4 left-1/2 -translate-x-1/2 justify-center opacity-80">
				<div class="w-1 h-full bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-purple-200 via-purple-400 to-purple-500"></div>
				<div class="w-1 h-full bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-purple-200 via-purple-400 to-purple-500"></div>
				<div class="w-1 h-full bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-purple-200 via-purple-400 to-purple-500"></div>
			</div>

			<div class="relative w-full">
				<img 
					class="left-0 h-full z-50 animate-fade-right animate-delay-0" 
					src="/images/coscu.webp" 
					alt="Coscu" 
				/>
				
				<img 
					class="left-[3%] h-[90%] z-40 animate-fade-right animate-delay-300" 
					src="/images/mayichi.webp" 
					alt="Mayichi" 
				/>
				
				<img 
					class="left-[15%] h-[85%] z-30 animate-fade-right animate-delay-500" 
					src="/images/viruzz.webp" 
					alt="Viruzz" 
				/>

				<img 
					class="left-[28%] h-[80%] z-20 animate-fade-right animate-delay-700" 
					src="/images/fernanfloo.webp" 
					alt="Fernanfloo" 
				/>

				<img 
					class="left-[40%] h-[75%] z-10 animate-fade-right animate-delay-1000" 
					src="/images/la-rivers.webp" 
					alt="La Rivers" 
				/>

				<img 
					class="left-[45%] h-[70%] z-0 animate-fade-right animate-delay-[1300ms]" 
					src="/images/papigavi.webp" 
					alt="Papigavi" 
				/>

			</div>
			<div class="relative w-full">
				<img 
					class="right-0 h-full z-50 animate-fade-left animate-delay-0" 
					src="/images/german.webp" 
					alt="German" 
				/>
				
				<img 
					class="right-[3%] h-[90%] z-40 animate-fade-left animate-delay-300" 
					src="/images/amouranth.webp" 
					alt="Amouranth" 
				/>
				
				<img 
					class="right-[15%] h-[85%] z-30 animate-fade-left animate-delay-500" 
					src="/images/shelao.webp" 
					alt="Shelao" 
				/>
				
				<img 
					class="right-[28%] h-[80%] z-20 animate-fade-left animate-delay-700" 
					src="/images/luzu.webp" 
					alt="Luzu" 
				/>
				
				<img 
					class="right-[40%] h-[75%] z-10 animate-fade-left animate-delay-1000" 
					src="/images/rivers.webp" 
					alt="Rivers" 
				/>
				
				<img 
					class="right-[45%] h-[70%] z-0 animate-fade-left animate-delay-[1300ms]" 
					src="/images/ampeter.webp" 
					alt="Ampeter" 
				/>
				
			</div>

		</section>

		<div
			id="info"
			class="lg:absolute lg:bottom-8 z-50 mx-auto lg:left-1/2 lg:-translate-x-1/2"
		>
			<div class="flex flex-col">
				<div class="px-5 pt-4 pb-2 bg-white text-black text-center">
					<h2 class="font-boxing text-6xl">1 de Julio</h2>
				</div>
				<div class="px-5 pt-2 pb-1 bg-black text-white text-center">
					<a 
						class="font-boxing text-[42px] hover:contrast-150 hover:scale-105 transition inline-block"
						href="https://twitch.tv/ibai" target="_blank" rel="noopener noreferrer">
						<span class="text-white">twitch.tv/</span>
						<span class="text-yellow-300">ibai</span>
					</a>
				</div>
				<div class="px-5 pt-4 pb-2 bg-sky-700 text-black text-center">
					<a 
						class="font-boxing text-3xl text-white hover:contrast-150 hover:scale-105 transition inline-block"
						href="https://twitch.tv/ibai" target="_blank" rel="noopener noreferrer">Comprar Entradas</a>
				</div>
			</div>
		</div>

		<div
			id="combat"
			class="absolute bottom-8 z-50 mx-auto left-1/2 -translate-x-1/2 flex flex-col gap-20 opacity-0 invisible"
		>

			<div class="px-5 pt-4 pb-2 bg-black text-white text-center">
				<h3 class="font-boxing-striped text-5xl">MAYICHI</h3>
			</div>
			<span class="left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2 font-boxing text-yellow-500 text-6xl
			block absolute [text-shadow:2px_2px_0px_red,4px_4px_0px_red,6px_6px_0px_black]">
				VS.
			</span>
			<div class="px-5 pt-4 pb-2 bg-white text-black text-center">
				<h3 class="font-boxing-striped text-5xl">AMOURANTH</h3>
			</div>

		</div>
	</main>
	<footer></footer>
</Layout>

<style></style>

<script>

	const $boxers = document.querySelector('#boxers');
	const $boxersImages = $boxers.querySelectorAll('img');

	const $info = document.querySelector('#info');
	const $combat = document.querySelector('#combat');

	$boxersImages.forEach( ($img) => {

		$img.addEventListener('mouseleave', () => {
			$boxersImages.forEach( ($img) => {
				$img.setAttribute("style", "transition: all .3s ease-in-out;")
			});

			$info.setAttribute(
				"style",
				"opacity: 1; transition: all .3s ease-in-out;"
			);
			
			$combat.setAttribute(
				"style",
				"opacity: 0; transition: all .3s ease-in-out;  visibility: hidden;"
			);
			
		});

		$img.addEventListener('mouseenter', () => {
			const sectionImages = $img.parentNode.children;
			const position = Array.from(sectionImages).indexOf($img);
			// get image for the left side and right side
			const [leftBoxer, rightBoxer] = [
				$boxersImages[position], // de la izquierda
				$boxersImages[position + $boxersImages.length/2] // de la derecha
			]

			//Cuándo estamos sobre los peleadores ocultamos la sección de info
			$info.setAttribute(
				'style', 
				'opacity: 0; transition: all .3s ease-in-out'
			);

			$combat.setAttribute(
				'style', 
				'opacity: 1; transition: all .3s ease-in-out; visibility: visible;'
			);

			const [firstBoxerName, secondBoxerName] = $combat.querySelectorAll('h3');
			firstBoxerName.innerHTML = leftBoxer.alt;
			secondBoxerName.innerHTML = rightBoxer.alt;

			//Ocultar los boxeadores que no interesan
			$boxersImages.forEach( ($img) => {
				$img.setAttribute(
					"style",
					"filter: blur(2px) grayscale(.8); transition: all .3s ease-in-out;"
				)
			});

			leftBoxer.setAttribute(
				"style",
				"scale: 1.05; constract: 1.1; transition: all .3s ease-in-out;"
			);

			rightBoxer.setAttribute(
				"style",
				"scale: 1.05; constract: 1.1; transition: all .3s ease-in-out;"
			)
		})
	})

</script>
